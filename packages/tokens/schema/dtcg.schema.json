{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://astudio.local/schema/dtcg.schema.json",
  "title": "aStudio DTCG Token Schema (DTCG 2025.10 Compliant)",
  "type": "object",
  "required": ["$schema", "meta", "color", "space", "radius", "size", "shadow", "type"],
  "properties": {
    "$schema": { "type": "string" },
    "meta": {
      "type": "object",
      "required": ["name", "version", "source"],
      "properties": {
        "name": { "type": "string" },
        "version": { "type": "string" },
        "source": { "type": "string" }
      },
      "additionalProperties": true
    },
    "color": {
      "type": "object",
      "required": ["background", "text", "icon", "border", "accent", "interactive"],
      "properties": {
        "background": { "$ref": "#/$defs/colorModeSet" },
        "text": { "$ref": "#/$defs/colorModeSet" },
        "icon": { "$ref": "#/$defs/colorModeSet" },
        "border": { "$ref": "#/$defs/colorBorderModeSet" },
        "accent": { "$ref": "#/$defs/colorAccentModeSet" },
        "interactive": { "$ref": "#/$defs/colorInteractiveModeSet" }
      },
      "additionalProperties": false
    },
    "space": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenDimension" }
      },
      "additionalProperties": false
    },
    "radius": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenDimension" }
      },
      "additionalProperties": false
    },
    "size": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenDimension" }
      },
      "additionalProperties": false
    },
    "shadow": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenShadow" }
      },
      "additionalProperties": false
    },
    "type": {
      "type": "object",
      "required": ["fontFamily"],
      "properties": {
        "fontFamily": { "$ref": "#/$defs/tokenFontFamily" }
      },
      "additionalProperties": {
        "$ref": "#/$defs/tokenTypographyGroup"
      }
    }
  },
  "$defs": {
    "tokenString": {
      "type": "object",
      "required": ["$value"],
      "properties": {
        "$value": { "type": "string" },
        "$type": { "type": "string" },
        "$description": { "type": "string" }
      },
      "additionalProperties": true
    },
    "tokenNumber": {
      "type": "object",
      "required": ["$value"],
      "properties": {
        "$value": { "type": "number" },
        "$type": { "type": "string" },
        "$description": { "type": "string" }
      },
      "additionalProperties": true
    },
    "tokenColor": {
      "type": "object",
      "required": ["$value"],
      "properties": {
        "$value": {
          "type": "string",
          "pattern": "^#([0-9a-fA-F]{6}|[0-9a-fA-F]{8})$|^rgba?\\([^)]+\\)$"
        },
        "$type": { "type": "string" },
        "$description": { "type": "string" }
      },
      "additionalProperties": true
    },
    "tokenDimension": {
      "type": "object",
      "required": ["$value", "$type"],
      "properties": {
        "$value": {
          "type": "object",
          "required": ["value", "unit"],
          "properties": {
            "value": { "type": "number" },
            "unit": { "enum": ["px", "rem", "em", "%"] }
          }
        },
        "$type": { "const": "dimension" },
        "$description": { "type": "string" }
      },
      "additionalProperties": false
    },
    "tokenFontFamily": {
      "type": "object",
      "required": ["$value", "$type"],
      "properties": {
        "$value": { "type": "string" },
        "$type": { "const": "fontFamily" },
        "$description": { "type": "string" }
      },
      "additionalProperties": false
    },
    "tokenFontWeight": {
      "type": "object",
      "required": ["$value", "$type"],
      "properties": {
        "$value": {
          "oneOf": [
            { "type": "number", "minimum": 1, "maximum": 1000 },
            {
              "enum": [
                "thin",
                "hairline",
                "extra-light",
                "ultra-light",
                "light",
                "normal",
                "regular",
                "book",
                "medium",
                "semi-bold",
                "demi-bold",
                "bold",
                "extra-bold",
                "ultra-bold",
                "black",
                "heavy",
                "extra-black",
                "ultra-black"
              ]
            }
          ]
        },
        "$type": { "const": "fontWeight" },
        "$description": { "type": "string" }
      },
      "additionalProperties": false
    },
    "tokenLetterSpacing": {
      "type": "object",
      "required": ["$value", "$type"],
      "properties": {
        "$value": { "type": "number" },
        "$type": { "const": "letterSpacing" },
        "$description": { "type": "string" }
      },
      "additionalProperties": false
    },
    "colorModeSet": {
      "type": "object",
      "required": ["light", "dark"],
      "properties": {
        "light": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        },
        "dark": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "colorBorderModeSet": {
      "type": "object",
      "required": ["light", "dark"],
      "properties": {
        "light": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        },
        "dark": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "colorAccentModeSet": {
      "type": "object",
      "required": ["light", "dark"],
      "properties": {
        "light": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        },
        "dark": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "colorInteractiveModeSet": {
      "type": "object",
      "required": ["light", "dark"],
      "properties": {
        "light": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        },
        "dark": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9]+$": { "$ref": "#/$defs/tokenColor" }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "tokenShadow": {
      "type": "object",
      "required": ["$value", "$type"],
      "properties": {
        "$value": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["color", "offsetX", "offsetY", "blur", "spread"],
            "properties": {
              "color": { "$ref": "#/$defs/tokenColor" },
              "offsetX": { "$ref": "#/$defs/tokenDimension" },
              "offsetY": { "$ref": "#/$defs/tokenDimension" },
              "blur": { "$ref": "#/$defs/tokenDimension" },
              "spread": { "$ref": "#/$defs/tokenDimension" }
            },
            "additionalProperties": false
          }
        },
        "$type": { "const": "shadow" },
        "$description": { "type": "string" }
      },
      "additionalProperties": false
    },
    "tokenTypographyGroup": {
      "type": "object",
      "properties": {
        "size": { "$ref": "#/$defs/tokenDimension" },
        "lineHeight": { "$ref": "#/$defs/tokenDimension" },
        "paragraphSpacing": { "$ref": "#/$defs/tokenDimension" },
        "weight": { "$ref": "#/$defs/tokenFontWeight" },
        "emphasisWeight": { "$ref": "#/$defs/tokenFontWeight" },
        "tracking": { "$ref": "#/$defs/tokenLetterSpacing" }
      },
      "additionalProperties": false
    }
  }
}

import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as l,j as y,c as ze}from"./vendor-react-C7s9o2DG.js";import{u as We,H as Ve,c as Je}from"./index-CYBJUsK9.js";import{e as Ge}from"./index-CvqQmilw.js";/* empty css               */import{C as qe,O as Ke,u as ne,a as re,b as ae,d as Ye,c as Xe,w as Ze}from"./vendor-three-react-CrI2rZio.js";import{u as Qe}from"./use-openai-global-BoyuTJe3.js";import{u as et}from"./use-max-height-D0UY1cZ4.js";import{u as tt}from"./use-widget-props-BrMhc2BP.js";import{A as nt,m as xe}from"./vendor-motion-BjihEFgE.js";import{f as T,a1 as rt,a2 as oe,z as at,a3 as ot}from"./vendor-three-core-D4EdNJXX.js";import"./vendor-three-post-CYInTbYN.js";var de="popstate";function it(e={}){function t(r,a){let{pathname:o,search:i,hash:s}=r.location;return ee("",{pathname:o,search:i,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:A(a)}return st(t,n,null,e)}function b(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lt(){return Math.random().toString(36).substring(2,10)}function fe(e,t){return{usr:e.state,key:e.key,idx:t}}function ee(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?I(t):t,state:n,key:t&&t.key||r||lt()}}function A({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function st(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,s="POP",u=null,c=f();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function f(){return(i.state||{idx:null}).idx}function d(){s="POP";let m=f(),x=m==null?null:m-c;c=m,u&&u({action:s,location:v.location,delta:x})}function p(m,x){s="PUSH";let h=ee(v.location,m,x);c=f()+1;let R=fe(h,c),C=v.createHref(h);try{i.pushState(R,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}o&&u&&u({action:s,location:v.location,delta:1})}function g(m,x){s="REPLACE";let h=ee(v.location,m,x);c=f();let R=fe(h,c),C=v.createHref(h);i.replaceState(R,"",C),o&&u&&u({action:s,location:v.location,delta:0})}function w(m){return ut(m)}let v={get action(){return s},get location(){return e(a,i)},listen(m){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(de,d),u=m,()=>{a.removeEventListener(de,d),u=null}},createHref(m){return t(a,m)},createURL:w,encodeLocation(m){let x=w(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(m){return i.go(m)}};return v}function ut(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:A(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function we(e,t,n="/"){return ct(e,t,n,!1)}function ct(e,t,n,r){let a=typeof t=="string"?I(t):t,o=j(a.pathname||"/",n);if(o==null)return null;let i=Re(e);dt(i);let s=null;for(let u=0;s==null&&u<i.length;++u){let c=Et(o);s=wt(i[u],c,r)}return s}function Re(e,t=[],n=[],r="",a=!1){let o=(i,s,u=a,c)=>{let f={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;b(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let d=$([r,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(b(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Re(i.children,t,p,d,u)),!(i.path==null&&!i.index)&&t.push({path:d,score:vt(d,i.index),routesMeta:p})};return e.forEach((i,s)=>{if(i.path===""||!i.path?.includes("?"))o(i,s);else for(let u of Ee(i.path))o(i,s,!0,u)}),t}function Ee(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=Ee(r.join("/")),s=[];return s.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...i),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function dt(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xt(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ft=/^:[\w-]+$/,ht=3,pt=2,mt=1,yt=10,gt=-2,he=e=>e==="*";function vt(e,t){let n=e.split("/"),r=n.length;return n.some(he)&&(r+=gt),t&&(r+=pt),n.filter(a=>!he(a)).reduce((a,o)=>a+(ft.test(o)?ht:o===""?mt:yt),r)}function xt(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function wt(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let u=r[s],c=s===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=G({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=G({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:$([o,d.pathname]),pathnameBase:Pt($([o,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(o=$([o,d.pathnameBase]))}return i}function G(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rt(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:d},p)=>{if(f==="*"){let w=s[p]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=s[p];return d&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function Rt(e,t=!1,n=!0){L(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Et(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function j(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ct(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?I(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=pe(n.substring(1),"/"):o=pe(n,t)):o=t,{pathname:o,search:Lt(r),hash:kt(a)}}function pe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Y(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function St(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function be(e){let t=St(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ce(e,t,n,r=!1){let a;typeof e=="string"?a=I(e):(a={...e},b(!a.pathname||!a.pathname.includes("?"),Y("?","pathname","search",a)),b(!a.pathname||!a.pathname.includes("#"),Y("#","pathname","hash",a)),b(!a.search||!a.search.includes("#"),Y("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,s;if(i==null)s=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;a.pathname=p.join("/")}s=d>=0?t[d]:"/"}let u=Ct(a,s),c=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var $=e=>e.join("/").replace(/\/\/+/g,"/"),Pt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$t=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Mt(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Se=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pe(e,t){let n=e;if(typeof n!="string"||!bt.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(Se)try{let o=new URL(window.location.href),i=n.startsWith("//")?new URL(o.protocol+n):new URL(n),s=j(i.pathname,t);i.origin===o.origin&&s!=null?n=s+i.search+i.hash:a=!0}catch{L(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Le=["POST","PUT","PATCH","DELETE"];new Set(Le);var Tt=["GET",...Le];new Set(Tt);var O=l.createContext(null);O.displayName="DataRouter";var q=l.createContext(null);q.displayName="DataRouterState";var Dt=l.createContext(!1),ke=l.createContext({isTransitioning:!1});ke.displayName="ViewTransition";var Ft=l.createContext(new Map);Ft.displayName="Fetchers";var Nt=l.createContext(null);Nt.displayName="Await";var P=l.createContext(null);P.displayName="Navigation";var U=l.createContext(null);U.displayName="Location";var k=l.createContext({outlet:null,matches:[],isDataRoute:!1});k.displayName="Route";var ie=l.createContext(null);ie.displayName="RouteError";var $e="REACT_ROUTER_ERROR",It="REDIRECT",Ot="ROUTE_ERROR_RESPONSE";function Bt(e){if(e.startsWith(`${$e}:${It}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _t(e){if(e.startsWith(`${$e}:${Ot}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new $t(t.status,t.statusText,t.data)}catch{}}function At(e,{relative:t}={}){b(H(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=l.useContext(P),{hash:a,pathname:o,search:i}=z(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:$([n,o])),r.createHref({pathname:s,search:i,hash:a})}function H(){return l.useContext(U)!=null}function D(){return b(H(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(U).location}var je="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Me(e){l.useContext(P).static||l.useLayoutEffect(e)}function Te(){let{isDataRoute:e}=l.useContext(k);return e?en():Ut()}function Ut(){b(H(),"useNavigate() may be used only in the context of a <Router> component.");let e=l.useContext(O),{basename:t,navigator:n}=l.useContext(P),{matches:r}=l.useContext(k),{pathname:a}=D(),o=JSON.stringify(be(r)),i=l.useRef(!1);return Me(()=>{i.current=!0}),l.useCallback((u,c={})=>{if(L(i.current,je),!i.current)return;if(typeof u=="number"){n.go(u);return}let f=Ce(u,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,o,a,e])}l.createContext(null);function Ht(){let{matches:e}=l.useContext(k),t=e[e.length-1];return t?t.params:{}}function z(e,{relative:t}={}){let{matches:n}=l.useContext(k),{pathname:r}=D(),a=JSON.stringify(be(n));return l.useMemo(()=>Ce(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function zt(e,t){return De(e,t)}function De(e,t,n,r,a){b(H(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=l.useContext(P),{matches:i}=l.useContext(k),s=i[i.length-1],u=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",d=s&&s.route;{let h=d&&d.path||"";Ne(c,!d||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let p=D(),g;if(t){let h=typeof t=="string"?I(t):t;b(f==="/"||h.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${h.pathname}" was given in the \`location\` prop.`),g=h}else g=p;let w=g.pathname||"/",v=w;if(f!=="/"){let h=f.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=we(e,{pathname:v});L(d||m!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),L(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=qt(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:$([f,o.encodeLocation?o.encodeLocation(h.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?f:$([f,o.encodeLocation?o.encodeLocation(h.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:h.pathnameBase])})),i,n,r,a);return t&&x?l.createElement(U.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function Wt(){let e=Qt(),t=jt(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=l.createElement(l.Fragment,null,l.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:o},"ErrorBoundary")," or"," ",l.createElement("code",{style:o},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:a},n):null,i)}var Vt=l.createElement(Wt,null),Fe=class extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_t(e.digest);n&&(e=n)}let t=e!==void 0?l.createElement(k.Provider,{value:this.props.routeContext},l.createElement(ie.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?l.createElement(Jt,{error:e},t):t}};Fe.contextType=Dt;var X=new WeakMap;function Jt({children:e,error:t}){let{basename:n}=l.useContext(P);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Bt(t.digest);if(r){let a=X.get(t);if(a)throw a;let o=Pe(r.location,n);if(Se&&!X.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw X.set(t,i),i}return l.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function Gt({routeContext:e,match:t,children:n}){let r=l.useContext(O);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),l.createElement(k.Provider,{value:e},n)}function qt(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=n?.errors;if(i!=null){let f=o.findIndex(d=>d.route.id&&i?.[d.route.id]!==void 0);b(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let s=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:g}=n,w=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let c=n&&r?(f,d)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Mt(n.matches),errorInfo:d})}:void 0;return o.reduceRight((f,d,p)=>{let g,w=!1,v=null,m=null;n&&(g=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||Vt,s&&(u<0&&p===0?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,m=null):u===p&&(w=!0,m=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,p+1)),h=()=>{let R;return g?R=v:w?R=m:d.route.Component?R=l.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=f,l.createElement(Gt,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:R})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?l.createElement(Fe,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:h(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):h()},null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kt(e){let t=l.useContext(O);return b(t,le(e)),t}function Yt(e){let t=l.useContext(q);return b(t,le(e)),t}function Xt(e){let t=l.useContext(k);return b(t,le(e)),t}function se(e){let t=Xt(e),n=t.matches[t.matches.length-1];return b(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Zt(){return se("useRouteId")}function Qt(){let e=l.useContext(ie),t=Yt("useRouteError"),n=se("useRouteError");return e!==void 0?e:t.errors?.[n]}function en(){let{router:e}=Kt("useNavigate"),t=se("useNavigate"),n=l.useRef(!1);return Me(()=>{n.current=!0}),l.useCallback(async(a,o={})=>{L(n.current,je),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var me={};function Ne(e,t,n){!t&&!me[e]&&(me[e]=!0,L(!1,n))}l.memo(tn);function tn({routes:e,future:t,state:n,onError:r}){return De(e,void 0,n,r,t)}function Ie(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nn({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:i}){b(!H(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),u=l.useMemo(()=>({basename:s,navigator:a,static:o,unstable_useTransitions:i,future:{}}),[s,a,o,i]);typeof n=="string"&&(n=I(n));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:g="default"}=n,w=l.useMemo(()=>{let v=j(c,s);return v==null?null:{location:{pathname:v,search:f,hash:d,state:p,key:g},navigationType:r}},[s,c,f,d,p,g,r]);return L(w!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:l.createElement(P.Provider,{value:u},l.createElement(U.Provider,{children:t,value:w}))}function rn({children:e,location:t}){return zt(te(e),t)}function te(e,t=[]){let n=[];return l.Children.forEach(e,(r,a)=>{if(!l.isValidElement(r))return;let o=[...t,a];if(r.type===l.Fragment){n.push.apply(n,te(r.props.children,o));return}b(r.type===Ie,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),b(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=te(r.props.children,o)),n.push(i)}),n}var V="get",J="application/x-www-form-urlencoded";function K(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function an(e){return K(e)&&e.tagName.toLowerCase()==="button"}function on(e){return K(e)&&e.tagName.toLowerCase()==="form"}function ln(e){return K(e)&&e.tagName.toLowerCase()==="input"}function sn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function un(e,t){return e.button===0&&(!t||t==="_self")&&!sn(e)}var W=null;function cn(){if(W===null)try{new FormData(document.createElement("form"),0),W=!1}catch{W=!0}return W}var dn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Z(e){return e!=null&&!dn.has(e)?(L(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${J}"`),null):e}function fn(e,t){let n,r,a,o,i;if(on(e)){let s=e.getAttribute("action");r=s?j(s,t):null,n=e.getAttribute("method")||V,a=Z(e.getAttribute("enctype"))||J,o=new FormData(e)}else if(an(e)||ln(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?j(u,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||V,a=Z(e.getAttribute("formenctype"))||Z(s.getAttribute("enctype"))||J,o=new FormData(s,e),!cn()){let{name:c,type:f,value:d}=e;if(f==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,d)}}else{if(K(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=V,r=null,a=J,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hn(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&j(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function pn(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mn(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yn(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await pn(o,n);return i.links?i.links():[]}return[]}));return wn(r.flat(1).filter(mn).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ye(e,t,n,r,a,o){let i=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,s=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return o==="assets"?t.filter((u,c)=>i(u,c)||s(u,c)):o==="data"?t.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(i(u,c)||s(u,c))return!0;if(u.route.shouldRevalidate){let d=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function gn(e,t,{includeHydrateFallback:n}={}){return vn(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function vn(e){return[...new Set(e)]}function xn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function wn(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(xn(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function Oe(){let e=l.useContext(O);return ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Rn(){let e=l.useContext(q);return ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ce=l.createContext(void 0);ce.displayName="FrameworkContext";function Be(){let e=l.useContext(ce);return ue(e,"You must render this element inside a <HydratedRouter> element"),e}function En(e,t){let n=l.useContext(ce),[r,a]=l.useState(!1),[o,i]=l.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:d}=t,p=l.useRef(null);l.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let v=x=>{x.forEach(h=>{i(h.isIntersecting)})},m=new IntersectionObserver(v,{threshold:.5});return p.current&&m.observe(p.current),()=>{m.disconnect()}}},[e]),l.useEffect(()=>{if(r){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{a(!0)},w=()=>{a(!1),i(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:_(s,g),onBlur:_(u,w),onMouseEnter:_(c,g),onMouseLeave:_(f,w),onTouchStart:_(d,g)}]:[!1,p,{}]}function _(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bn({page:e,...t}){let{router:n}=Oe(),r=l.useMemo(()=>we(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?l.createElement(Sn,{page:e,matches:r,...t}):null}function Cn(e){let{manifest:t,routeModules:n}=Be(),[r,a]=l.useState([]);return l.useEffect(()=>{let o=!1;return yn(e,t,n).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,n]),r}function Sn({page:e,matches:t,...n}){let r=D(),{future:a,manifest:o,routeModules:i}=Be(),{basename:s}=Oe(),{loaderData:u,matches:c}=Rn(),f=l.useMemo(()=>ye(e,t,c,o,r,"data"),[e,t,c,o,r]),d=l.useMemo(()=>ye(e,t,c,o,r,"assets"),[e,t,c,o,r]),p=l.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,m=!1;if(t.forEach(h=>{let R=o.routes[h.route.id];!R||!R.hasLoader||(!f.some(C=>C.route.id===h.route.id)&&h.route.id in u&&i[h.route.id]?.shouldRevalidate||R.hasClientLoader?m=!0:v.add(h.route.id))}),v.size===0)return[];let x=hn(e,s,a.unstable_trailingSlashAwareDataRequests,"data");return m&&v.size>0&&x.searchParams.set("_routes",t.filter(h=>v.has(h.route.id)).map(h=>h.route.id).join(",")),[x.pathname+x.search]},[s,a.unstable_trailingSlashAwareDataRequests,u,r,o,f,t,e,i]),g=l.useMemo(()=>gn(d,o),[d,o]),w=Cn(d);return l.createElement(l.Fragment,null,p.map(v=>l.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>l.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),w.map(({key:v,link:m})=>l.createElement("link",{key:v,nonce:n.nonce,...m,crossOrigin:m.crossOrigin??n.crossOrigin})))}function Pn(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ln=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ln&&(window.__reactRouterVersion="7.13.0")}catch{}function kn({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=l.useRef();a.current==null&&(a.current=it({window:r,v5Compat:!0}));let o=a.current,[i,s]=l.useState({action:o.action,location:o.location}),u=l.useCallback(c=>{n===!1?s(c):l.startTransition(()=>s(c))},[n]);return l.useLayoutEffect(()=>o.listen(u),[o,u]),l.createElement(nn,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o,unstable_useTransitions:n})}var _e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=l.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:i,state:s,target:u,to:c,preventScrollReset:f,viewTransition:d,unstable_defaultShouldRevalidate:p,...g},w){let{basename:v,unstable_useTransitions:m}=l.useContext(P),x=typeof c=="string"&&_e.test(c),h=Pe(c,v);c=h.to;let R=At(c,{relative:a}),[C,E,S]=En(r,g),M=Tn(c,{replace:i,state:s,target:u,preventScrollReset:f,relative:a,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m});function F(B){t&&t(B),B.defaultPrevented||M(B)}let N=l.createElement("a",{...g,...S,href:h.absoluteURL||R,onClick:h.isExternal||o?t:F,ref:Pn(w,E),target:u,"data-discover":!x&&n==="render"?"true":void 0});return C&&!x?l.createElement(l.Fragment,null,N,l.createElement(bn,{page:R})):N});Ae.displayName="Link";var $n=l.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:i,viewTransition:s,children:u,...c},f){let d=z(i,{relative:c.relative}),p=D(),g=l.useContext(q),{navigator:w,basename:v}=l.useContext(P),m=g!=null&&On(d)&&s===!0,x=w.encodeLocation?w.encodeLocation(d).pathname:d.pathname,h=p.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(h=h.toLowerCase(),R=R?R.toLowerCase():null,x=x.toLowerCase()),R&&v&&(R=j(R,v)||R);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let E=h===x||!a&&h.startsWith(x)&&h.charAt(C)==="/",S=R!=null&&(R===x||!a&&R.startsWith(x)&&R.charAt(x.length)==="/"),M={isActive:E,isPending:S,isTransitioning:m},F=E?t:void 0,N;typeof r=="function"?N=r(M):N=[r,E?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(M):o;return l.createElement(Ae,{...c,"aria-current":F,className:N,ref:f,style:B,to:i,viewTransition:s},typeof u=="function"?u(M):u)});$n.displayName="NavLink";var jn=l.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:i=V,action:s,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:d,unstable_defaultShouldRevalidate:p,...g},w)=>{let{unstable_useTransitions:v}=l.useContext(P),m=Nn(),x=In(s,{relative:c}),h=i.toLowerCase()==="get"?"get":"post",R=typeof s=="string"&&_e.test(s),C=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,M=S?.getAttribute("formmethod")||i,F=()=>m(S||E.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:a,state:o,relative:c,preventScrollReset:f,viewTransition:d,unstable_defaultShouldRevalidate:p});v&&n!==!1?l.startTransition(()=>F()):F()};return l.createElement("form",{ref:w,method:h,action:x,onSubmit:r?u:C,...g,"data-discover":!R&&e==="render"?"true":void 0})});jn.displayName="Form";function Mn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ue(e){let t=l.useContext(O);return b(t,Mn(e)),t}function Tn(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let c=Te(),f=D(),d=z(e,{relative:o});return l.useCallback(p=>{if(un(p,t)){p.preventDefault();let g=n!==void 0?n:A(f)===A(d),w=()=>c(e,{replace:g,state:r,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:s});u?l.startTransition(()=>w()):w()}},[f,c,d,n,r,t,e,a,o,i,s,u])}var Dn=0,Fn=()=>`__${String(++Dn)}__`;function Nn(){let{router:e}=Ue("useSubmit"),{basename:t}=l.useContext(P),n=Zt(),r=e.fetch,a=e.navigate;return l.useCallback(async(o,i={})=>{let{action:s,method:u,encType:c,formData:f,body:d}=fn(o,t);if(i.navigate===!1){let p=i.fetcherKey||Fn();await r(p,n,i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||c,flushSync:i.flushSync})}else await a(i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,a,t,n])}function In(e,{relative:t}={}){let{basename:n}=l.useContext(P),r=l.useContext(k);b(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...z(e||".",{relative:t})},i=D();if(e==null){o.search=i.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(f=>f==="")){s.delete("index"),u.filter(d=>d).forEach(d=>s.append("index",d));let f=s.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$([n,o.pathname])),A(o)}function On(e,{relative:t}={}){let n=l.useContext(ke);b(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ue("useViewTransitionState"),a=z(e,{relative:t});if(!n.isTransitioning)return!1;let o=j(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=j(n.nextLocation.pathname,r)||n.nextLocation.pathname;return G(a.pathname,i)!=null||G(a.pathname,o)!=null}const Bn=()=>Qe("displayMode")??null,_n=()=>y.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M4.33496 11C4.33496 10.6327 4.63273 10.335 5 10.335C5.36727 10.335 5.66504 10.6327 5.66504 11V14.335H9L9.13379 14.3486C9.43692 14.4106 9.66504 14.6786 9.66504 15C9.66504 15.3214 9.43692 15.5894 9.13379 15.6514L9 15.665H5C4.63273 15.665 4.33496 15.3673 4.33496 15V11ZM14.335 9V5.66504H11C10.6327 5.66504 10.335 5.36727 10.335 5C10.335 4.63273 10.6327 4.33496 11 4.33496H15L15.1338 4.34863C15.4369 4.41057 15.665 4.67857 15.665 5V9C15.665 9.36727 15.3673 9.66504 15 9.66504C14.6327 9.66504 14.335 9.36727 14.335 9Z"})});function He({children:e,index:t,delay:n}){const[r,a]=l.useState(!1);return r?e:y.jsx(xe.span,{initial:{opacity:0,color:"var(--color-text-info)"},animate:{opacity:1,color:"var(--color-text)"},transition:{type:"spring",bounce:0,delay:t*.015+.14+(n||0),duration:1},onAnimationComplete:()=>a(!0),children:e})}function ge({children:e,delay:t}){const n=e.split(" ");return y.jsx(y.Fragment,{children:n.map((r,a)=>y.jsxs(He,{index:a,delay:t,children:[r," "]},`${a}-${r}`))})}function An(){const{scene:e}=ne(),t=re(oe,"https://persistent.oaistatic.com/ecosys/stars_8k.webp");return l.useEffect(()=>{t.mapping=rt,e.background=t},[t,e]),null}function Un({focusTarget:e,hasFocus:t}){const{camera:n}=ne(),r=l.useRef();return ae(()=>{if(!r.current)return;if(!t){r.current.bokehScale=0;return}const a=n.position.distanceTo(e),o=ot.clamp(12-a*.75,0,12);r.current.bokehScale=o}),y.jsxs(Ye,{children:[y.jsx(Xe,{ref:r,focusDistance:0,focalLength:.02,height:480,bokehScale:0,target:e}),y.jsx(Ze,{luminanceThreshold:0,luminanceSmoothing:.25,intensity:1.75,mipmapBlur:!0})]})}const Q=[{name:"Mercury",radius:2,size:.2,speed:.02,physicalSize:4879,description:"Mercury is the smallest planet in the Solar System and the closest to the Sun. It has a rocky, cratered surface and extreme temperature swings."},{name:"Venus",radius:3,size:.35,speed:.015,physicalSize:12104,description:"Venus, similar in size to Earth, is cloaked in thick clouds of sulfuric acid with surface temperatures hot enough to melt lead."},{name:"Earth",radius:4,size:.38,speed:.012,physicalSize:12742,description:"Earth is the only known planet to support life, with liquid water covering 71% of its surface and a protective atmosphere."},{name:"Mars",radius:5,size:.25,speed:.01,physicalSize:6779,description:"Mars, the Red Planet, shows evidence of ancient rivers and volcanoes and is a prime target in the search for past life."},{name:"Jupiter",radius:7,size:.85,speed:.008,physicalSize:139820,description:"Jupiter is the largest planet, a gas giant with a Great Red Spot--an enormous storm raging for centuries."},{name:"Saturn",radius:9,size:.75,speed:.006,physicalSize:116460,description:"Saturn is famous for its stunning ring system composed of billions of ice and rock particles orbiting the planet."},{name:"Uranus",radius:11,size:.65,speed:.0045,physicalSize:50724,description:"Uranus is an ice giant rotating on its side, giving rise to extreme seasonal variations during its long orbit."},{name:"Neptune",radius:13,size:.65,speed:.0035,physicalSize:49244,description:"Neptune, the farthest known giant, is a deep-blue world with supersonic winds and a faint ring system."}];function Hn(){const[e,t]=l.useState(!0),[n,r]=l.useState(null),{planet_name:a}=tt({}),o=Te(),{planet:i}=Ht(),s=Q.find(E=>E.name===i)??Q.find(E=>E.name===a),[u,c]=l.useState(new T(0,0,0)),[f,d]=l.useState(!1),p=We();l.useEffect(()=>{p.setState&&p.setState({isOrbiting:e,currentPlanet:s?s.name:null})},[e,s,p]),l.useEffect(()=>{requestAnimationFrame(()=>{const E=m.current[s?.name];if(s&&E){const S=E.getPosition();t(!1),r(S),c(S)}else t(!0),r("initial"),c(new T(0,0,0))})},[s]);const g=l.useRef(),w=l.useRef(new T(0,0,10)),v=l.useRef(new T(0,0,0)),m=l.useRef({}),x=E=>{E?.name?o(`/${E.name}`,{replace:!1}):o("/",{replace:!1})},h=()=>{t(!0),r("initial"),c(new T(0,0,0)),x(null)},R=et()??void 0,C=Bn();return y.jsxs("div",{className:`antialiased w-full relative bg-surface overflow-hidden ${C!=="fullscreen"?"aspect-[640/480] sm:aspect-[640/400]":""}`,style:{maxHeight:R,height:C==="fullscreen"?R:void 0},children:[y.jsx("h1",{className:"sr-only",children:"Solar System"}),y.jsx("div",{className:"sr-only","aria-live":"polite",children:"Solar system updated."}),C!=="fullscreen"&&y.jsx("div",{className:"fixed end-3 z-20 top-3 aspect-square rounded-full p-2 bg-surface-secondary text-primary border border-subtle backdrop-blur-lg",children:y.jsx("button",{onClick:()=>{p.requestDisplayMode?.({mode:"fullscreen"})},children:y.jsx(_n,{})})}),y.jsx("div",{className:"relative w-full h-full z-10",children:y.jsxs(qe,{camera:{position:[0,2,8],fov:60},onCreated:({camera:E})=>{w.current.copy(E.position),g.current&&v.current.copy(g.current.target),d(!0)},onPointerMissed:h,children:[y.jsx(An,{}),y.jsx("ambientLight",{intensity:.135}),y.jsx("pointLight",{position:[0,0,0],intensity:18}),y.jsx("directionalLight",{position:[0,0,0],intensity:.7,castShadow:!0}),y.jsx(Ke,{ref:g}),y.jsx(zn,{}),Q.map(E=>y.jsx(Vn,{ref:S=>{m.current[E.name]=S},...E,isOrbiting:e,onPlanetClick:()=>{t(!1),x(E)}},E.name)),y.jsx(Un,{focusTarget:u,hasFocus:s!==null}),y.jsx(Jn,{targetPosition:n,orbitControlsRef:g,setIsOrbiting:t,initialCameraPosition:w,initialOrbitTarget:v,setFocusTarget:c})]})}),y.jsx(nt,{children:s&&y.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{bounce:.2,duration:.4,type:"spring"},className:`
    absolute inset-0
    flex flex-col justify-end items-center text-center
    pb-4 px-8 sm:p-8
    bg-gradient-to-t from-background to-transparent
    md:bg-gradient-to-r md:from-background md:to-transparent
    md:items-start md:text-left md:justify-start
    md:w-72
    rounded-xl text-foreground pointer-events-none z-10
  `,children:[y.jsx("div",{className:"text-4xl font-medium",children:y.jsx(ge,{children:s.name})}),y.jsx("div",{className:"text-sm my-2 font-medium",children:y.jsx(He,{delay:.1,children:Intl.NumberFormat("en-US",{style:"unit",unit:"kilometer",unitDisplay:"narrow"}).format(s.physicalSize)})}),y.jsx("div",{className:"text-sm my-2",children:y.jsx(ge,{delay:.125,children:s.description})})]})})]})}function zn(){return y.jsxs("mesh",{children:[y.jsx("sphereGeometry",{args:[1,32,32]}),y.jsx("meshBasicMaterial",{color:"#F6D973"})]})}function Wn({planetSize:e}){const t=re(oe,"https://persistent.oaistatic.com/ecosys/saturn_ring.webp");return y.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[y.jsx("ringGeometry",{args:[e*1.1,e*2,64]}),y.jsx("meshStandardMaterial",{map:t,transparent:!0,side:at})]})}function Vn({name:e,radius:t,size:n,speed:r,isOrbiting:a,onPlanetClick:o,ref:i}){const u=l.useRef(),c=l.useRef(Math.random()*Math.PI*2);l.useImperativeHandle(i,()=>({getPosition:()=>u.current.position.clone()}));const f=re(oe,`https://persistent.oaistatic.com/ecosys/${e.toLowerCase()}_2k.webp`);return ae(()=>{if(a){c.current+=r*.2;const d=t*Math.cos(c.current),p=t*Math.sin(c.current);u.current.position.set(d,0,p)}}),y.jsxs("mesh",{ref:u,onClick:d=>{d.stopPropagation(),o(u.current.position.clone())},children:[y.jsx("sphereGeometry",{args:[n,32,32]}),y.jsx("meshStandardMaterial",{map:f}),e==="Saturn"&&y.jsx(Wn,{planetSize:n})]})}function Jn({targetPosition:e,orbitControlsRef:t,setIsOrbiting:n,initialCameraPosition:r,initialOrbitTarget:a,setFocusTarget:o}){const{camera:i}=ne(),s=l.useRef(null),u=l.useRef(null);return l.useEffect(()=>{if(e){if(e==="initial")s.current=r.current.clone(),u.current=a.current.clone(),n(!0),o(new T(0,0,0));else{const c=new T().subVectors(i.position,e).normalize().multiplyScalar(2);s.current=e.clone().add(c),u.current=e.clone(),n(!1),o(u.current.clone())}t.current&&(t.current.enabled=!1)}},[e,i,r,a,t,o,n]),ae(()=>{if(!s.current||!u.current)return;const c=.04;i.position.lerp(s.current,c),t.current&&(t.current.target.lerp(u.current,c),t.current.update()),i.position.distanceTo(s.current)<.05&&t.current.target.distanceTo(u.current)<.05&&(s.current=null,u.current=null,t.current&&(t.current.enabled=!0,t.current.update()))}),null}function Gn(){return y.jsx(kn,{children:y.jsx(rn,{children:y.jsx(Ie,{path:"/:planet?",element:y.jsx(Hn,{})})})})}const ve=document.getElementById("solar-system-root");if(ve){const e=Je();ze.createRoot(ve).render(y.jsx(Ve,{host:e,children:y.jsx(Ge,{linkComponent:"a",children:y.jsx(Gn,{})})}))}

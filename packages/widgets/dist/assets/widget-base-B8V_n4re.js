import{R as a,j as t,r as c,c as d}from"./vendor-react-C7s9o2DG.js";import{a as l,e as u,H as m}from"./index-CYBJUsK9.js";const x={};function i({children:r,className:e="",title:o,style:s}){return t.jsxs("div",{className:`antialiased w-full text-foreground p-4 border border-border rounded-2xl overflow-hidden bg-background widget-scrollable ${e}`,style:s,children:[o&&t.jsx("div",{className:"mb-4 pb-3 border-b border-border",children:t.jsx("h1",{className:"text-lg font-semibold text-foreground",children:o})}),t.jsx("div",{className:"overflow-auto max-h-[80vh] widget-content",children:r})]})}function p(r){const e=document.getElementById("root");if(!e)return;const o=l({apiBase:x?.VITE_WIDGETS_API_BASE});o.mode!=="embedded"&&u(),h(e).render(t.jsx(c.StrictMode,{children:t.jsx(m,{host:o,children:r})}))}const n=new WeakMap;function h(r){const e=n.get(r);if(e)return e;const o=d.createRoot(r);return n.set(r,o),o}function v(r,e){return function(s){return t.jsx(i,{title:e?.title,className:e?.className||"",style:e?.maxHeight?{maxHeight:e.maxHeight}:void 0,children:t.jsx(r,{...s})})}}class j extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,o){}render(){return this.state.hasError?this.props.fallback||t.jsx(i,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-status-error mb-2 text-2xl",children:"⚠️"}),t.jsx("div",{className:"text-status-error mb-2 font-medium",children:"Widget Error"}),t.jsx("div",{className:"text-sm text-text-secondary mb-4",children:"Something went wrong. Please try refreshing."}),t.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 bg-status-error text-text-body-on-color rounded-lg text-sm font-medium transition-colors hover:bg-status-error/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-status-error/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Refresh Widget"})]})}):this.props.children}}export{j as W,i as a,v as c,p as m};

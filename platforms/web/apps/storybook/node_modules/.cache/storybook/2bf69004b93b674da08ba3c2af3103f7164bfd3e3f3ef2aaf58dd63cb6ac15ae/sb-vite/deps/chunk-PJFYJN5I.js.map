{
  "version": 3,
  "sources": ["../../../../../../../../../../node_modules/.pnpm/@openai+apps-sdk-ui@0.2.1_@types+react-dom@19.2.3_@types+react@19.2.7__@types+react@19._66a90e86b922f9fa759e20bb3fdb6c95/node_modules/@openai/apps-sdk-ui/src/lib/helpers.ts", "../../../../../../../../../../node_modules/.pnpm/@openai+apps-sdk-ui@0.2.1_@types+react-dom@19.2.3_@types+react@19.2.7__@types+react@19._66a90e86b922f9fa759e20bb3fdb6c95/node_modules/@openai/apps-sdk-ui/src/lib/environment.ts"],
  "sourcesContent": ["import { type CSSProperties } from \"react\"\nimport { canUseDOM, hasDocument, hasWindow } from \"./environment\"\nimport type { Pretty } from \"./utilityTypes\"\n\nexport const prefersReducedMotion = () => {\n  if (!hasWindow || typeof window.matchMedia !== \"function\") {\n    return false\n  }\n\n  return window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n}\n\nexport const handlePressableMouseEnter = (evt: React.MouseEvent) => {\n  const target = evt.currentTarget\n\n  // Safely coerce type to HTMLElement so TS is peaceful with `evt.target`\n  if (!(target instanceof HTMLElement)) {\n    return\n  }\n\n  const elementWidth = target.offsetWidth\n\n  let scale = 0.985\n\n  if (elementWidth <= 80) {\n    scale = 0.96\n  } else if (elementWidth <= 150) {\n    scale = 0.97\n  } else if (elementWidth <= 220) {\n    scale = 0.98\n  } else if (elementWidth > 600) {\n    scale = 0.995\n  }\n\n  target.style.setProperty(\"--scale\", scale.toString())\n}\n\ninterface CancelAnimationFrame {\n  (): void\n}\n\nexport const waitForAnimationFrame = (\n  cb: () => void,\n  options?: { frames: number },\n): CancelAnimationFrame => {\n  const runAfterTick = () => {\n    const id = setTimeout(cb)\n    return () => {\n      clearTimeout(id)\n    }\n  }\n\n  if (!canUseDOM || typeof window.requestAnimationFrame !== \"function\") {\n    return runAfterTick()\n  }\n\n  const visibilityHidden = hasDocument && document.visibilityState === \"hidden\"\n  if (visibilityHidden) {\n    return runAfterTick()\n  }\n\n  let frames = options?.frames ?? 2\n  let animationFrame = window.requestAnimationFrame(function recurse() {\n    frames -= 1\n    if (frames === 0) {\n      cb()\n    } else {\n      animationFrame = window.requestAnimationFrame(recurse)\n    }\n  })\n\n  return () => {\n    if (typeof window.cancelAnimationFrame === \"function\") {\n      window.cancelAnimationFrame(animationFrame)\n    }\n  }\n}\n\nexport const toCssVariables = (\n  variables: Record<string, string | number | undefined>,\n): CSSProperties => {\n  const formattedVariables = Object.keys(variables).reduce(\n    (acc, variable) => {\n      // Ensure value is truthy\n      const value = variables[variable]\n      // Accept 0 as a valid value\n      if (value || value === 0) {\n        // Add the prefix if it wasn't already provided\n        const prefix = variable.startsWith(\"--\") ? \"\" : \"--\"\n        const formattedValue = typeof value === \"number\" ? `${value}px` : value\n\n        acc[`${prefix}${variable}`] = formattedValue\n      }\n\n      return acc\n    },\n    {} as Record<string, string>,\n  )\n\n  // Safe casting because we know we've formatted an object of CSS Variable strings\n  return formattedVariables as CSSProperties\n}\n\nexport const toAngle = (value: number | string): string =>\n  typeof value === \"number\" ? `${value}deg` : value\n\nexport const toOpacityProperty = (opacity: number): string => String(opacity)\n\nexport const toMsDurationProperty = (duration: number): string => `${duration}ms`\n\nexport const toTransformProperty = ({\n  x,\n  y,\n  scale,\n  rotate,\n  skewX,\n  skewY,\n}: {\n  x?: number\n  y?: number\n  scale?: number\n  rotate?: number | string\n  skewX?: number | string\n  skewY?: number | string\n} = {}): string => {\n  const transforms = [\n    x == null ? null : `translateX(${x}px)`,\n    y == null ? null : `translateY(${y}px)`,\n    scale == null ? null : `scale(${scale})`,\n    rotate == null ? null : `rotate(${toAngle(rotate)})`,\n    skewX == null ? null : `skewX(${toAngle(skewX)})`,\n    skewY == null ? null : `skewY(${toAngle(skewY)})`,\n  ].filter(Boolean)\n\n  return transforms.length ? transforms.join(\" \") : \"none\"\n}\n\nexport const toFilterProperty = ({ blur }: { blur?: number | undefined } = {}) => {\n  // Maybe add more support in the future\n  const filters = [blur == null ? null : `blur(${blur}px)`].filter(Boolean)\n\n  return filters.length ? filters.join(\" \") : \"none\"\n}\n\nexport const preventDefaultHandler = (evt: Event) => {\n  evt.preventDefault()\n}\n\n/*\n * Intentionally simple selector string. Purposeful exclusions: (for now)\n * - select, because our selects are better recognized as button\n * - unused selectors like iframe, object, .etc.\n * - states like [inert]\n */\nexport const focusableElements = (element: HTMLElement) =>\n  element.querySelectorAll<HTMLElement>(\n    'a[href], input:not([disabled]):not([type=\"hidden\"]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex^=\"-\"]), [contenteditable]',\n  )\n\nexport const sleep = (ms: number): Promise<void> =>\n  new Promise((resolve) => setTimeout(resolve, ms))\n\n/**\n * Group an array of objects by a property, preserving the *first-seen* order\n * of each group.\n *\n * @example\n * groupByOrdered(people, \"team\")\n * // => [ { team: \"infra\", items:[...] }, { team:\"design\", items:[...] }, ... ]\n */\nexport function groupByProperty<T extends object, K extends keyof T, F = T[K]>(\n  items: T[],\n  key: K,\n  format: (raw: T[K], item: T) => F = (raw) => raw as F,\n) {\n  const groups: Pretty<{ [P in K]: F } & { items: T[] }>[] = []\n  const indexMap = new Map<unknown, number>() // maps group value -> index in groups array\n\n  for (const item of items) {\n    const value = format(item[key], item)\n\n    // Add to existing group\n    const existing = indexMap.get(value)\n    if (existing !== undefined) {\n      groups[existing].items.push(item)\n      continue\n    }\n\n    // Create new group\n    const group = { [key]: value, items: [item] } as { [P in K]: F } & { items: T[] }\n    indexMap.set(value, groups.length)\n    groups.push(group)\n  }\n\n  return groups\n}\n", "const META_ENV = typeof import.meta !== \"undefined\" ? import.meta.env : undefined\n\nconst NODE_ENV =\n  typeof process !== \"undefined\" && process.env?.NODE_ENV ? process.env?.NODE_ENV : \"production\"\n\nexport const isDev = NODE_ENV === \"development\" || !!META_ENV?.DEV\n\nexport const isJSDomLike =\n  (typeof navigator !== \"undefined\" && /(jsdom|happy-dom)/i.test(navigator.userAgent)) ||\n  typeof (globalThis as Record<string, unknown>).happyDOM === \"object\"\n\nexport const isTest = NODE_ENV === \"test\" || META_ENV?.MODE === \"test\" || isJSDomLike\n\nexport const hasWindow = typeof window !== \"undefined\"\nexport const hasDocument = typeof document !== \"undefined\"\nexport const canUseDOM = hasWindow && hasDocument\n"],
  "mappings": "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",
  "names": []
}

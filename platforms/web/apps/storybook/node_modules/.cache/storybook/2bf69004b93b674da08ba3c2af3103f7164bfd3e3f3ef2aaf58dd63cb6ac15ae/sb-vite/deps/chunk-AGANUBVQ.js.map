{
  "version": 3,
  "sources": ["../../../../../../../../../../node_modules/.pnpm/@openai+apps-sdk-ui@0.2.1_@types+react-dom@19.2.3_@types+react@19.2.7__@types+react@19._66a90e86b922f9fa759e20bb3fdb6c95/node_modules/@openai/apps-sdk-ui/src/lib/renderHelpers.tsx"],
  "sourcesContent": ["import { Children, cloneElement, isValidElement, type ReactElement, type ReactNode } from \"react\"\n\nconst flattenTextNodes = (children: ReactNode): ReactNode[] => {\n  const nodes = Children.toArray(children)\n  const result: ReactNode[] = []\n  let buffer = \"\"\n\n  const flush = () => {\n    if (buffer !== \"\") {\n      result.push(buffer)\n      buffer = \"\"\n    }\n  }\n\n  for (const node of nodes) {\n    if (node == null || typeof node === \"boolean\") {\n      continue\n    }\n\n    if (typeof node === \"string\" || typeof node === \"number\") {\n      buffer += String(node)\n      continue\n    }\n\n    // Boundary encountered: output any accumulated text, then the node\n    flush()\n    result.push(node)\n  }\n\n  flush()\n  return result\n}\n\n// Helper to wrap text node siblings of other elements in a tag,\n// which enables sibling selectors to behave as expected for certain conditions\nexport const wrapTextNodeSiblings = (children: ReactNode): ReactNode => {\n  const flattenedChildren = flattenTextNodes(children)\n  const childrenCount = Children.count(flattenedChildren)\n\n  return Children.map(flattenedChildren, (child) => {\n    if (typeof child === \"string\" && !!child.trim()) {\n      // Children with no siblings can immediately return\n      if (childrenCount <= 1) {\n        return child\n      }\n\n      // Wrap text nodes that have siblings\n      return <span>{child}</span>\n    }\n\n    // For valid elements, recursively render to capture wrapped children\n    if (isValidElement(child)) {\n      const element = child as ReactElement<{ children?: ReactNode }>\n      const { children: innerChildren, ...restProps } = element.props\n\n      if (innerChildren != null) {\n        return cloneElement(element, restProps, wrapTextNodeSiblings(innerChildren))\n      }\n\n      return element\n    }\n\n    return child\n  })\n}\n"],
  "mappings": ";;;;;;;;;;;;AAAA,mBAA0F;AAE1F,IAAM,mBAAmB,CAAC,aAAoC;AAC5D,QAAM,QAAQ,sBAAS,QAAQ,QAAQ;AACvC,QAAM,SAAsB,CAAA;AAC5B,MAAI,SAAS;AAEb,QAAM,QAAQ,MAAK;AACjB,QAAI,WAAW,IAAI;AACjB,aAAO,KAAK,MAAM;AAClB,eAAS;IACX;EACF;AAEA,aAAW,QAAQ,OAAO;AACxB,QAAI,QAAQ,QAAQ,OAAO,SAAS,WAAW;AAC7C;IACF;AAEA,QAAI,OAAO,SAAS,YAAY,OAAO,SAAS,UAAU;AACxD,gBAAU,OAAO,IAAI;AACrB;IACF;AAGA,UAAK;AACL,WAAO,KAAK,IAAI;EAClB;AAEA,QAAK;AACL,SAAO;AACT;AAIO,IAAM,uBAAuB,CAAC,aAAkC;AACrE,QAAM,oBAAoB,iBAAiB,QAAQ;AACnD,QAAM,gBAAgB,sBAAS,MAAM,iBAAiB;AAEtD,SAAO,sBAAS,IAAI,mBAAmB,CAAC,UAAS;AAC/C,QAAI,OAAO,UAAU,YAAY,CAAC,CAAC,MAAM,KAAI,GAAI;AAE/C,UAAI,iBAAiB,GAAG;AACtB,eAAO;MACT;AAGA,iBAAO,mBAAAA,KAAA,QAAA,EAAA,UAAO,MAAK,CAAA;IACrB;AAGA,YAAI,6BAAe,KAAK,GAAG;AACzB,YAAM,UAAU;AAChB,YAAM,EAAE,UAAU,eAAe,GAAG,UAAS,IAAK,QAAQ;AAE1D,UAAI,iBAAiB,MAAM;AACzB,mBAAO,2BAAa,SAAS,WAAW,qBAAqB,aAAa,CAAC;MAC7E;AAEA,aAAO;IACT;AAEA,WAAO;EACT,CAAC;AACH;",
  "names": ["_jsx"]
}
